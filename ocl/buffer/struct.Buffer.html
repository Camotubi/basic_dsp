<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `Buffer` struct in crate `ocl`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, Buffer">

    <title>ocl::buffer::Buffer - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../../main.css">

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='../index.html'>ocl</a>::<wbr><a href='index.html'>buffer</a></p><script>window.sidebarCurrent = {name: 'Buffer', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'><span class='in-band'>Struct <a href='../index.html'>ocl</a>::<wbr><a href='index.html'>buffer</a>::<wbr><a class='struct' href=''>Buffer</a></span><span class='out-of-band'><span id='render-detail'>
            <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                [<span class='inner'>&#x2212;</span>]
            </a>
        </span><a id='src-1031' class='srclink' href='../../src/ocl/buffer.rs.html#63-69' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct Buffer&lt;T&gt; {
    // some fields omitted
}</pre><div class='docblock'><p>An OpenCL buffer with an optional vector.</p>

<p>One copy of data is 
stored in a buffer on the device associated with <code>queue</code>. A second is stored 
as an optional vector (<code>vec</code>) in host memory. Basically just a buffer with an
optional built-in vector for use as a workspace etc.</p>

<p>The host side vector must be manually synchronized with the device side buffer 
using the <code>.fill_vec()</code>, <code>.flush_vec()</code>, etc. Data within the contained vector 
should generally be considered stale except immediately after a fill/flush 
(exception: pinned memory).</p>

<p>Fill/flush functions are for convenience and are equivalent to the psuedocode: 
read_into(self.vec) and write_from(self.vec).</p>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><code>impl&lt;T: <a class='trait' href='../../ocl/trait.OclNum.html' title='ocl::OclNum'>OclNum</a>&gt; <a class='struct' href='../../ocl/buffer/struct.Buffer.html' title='ocl::buffer::Buffer'>Buffer</a>&lt;T&gt;</code></h3><div class='docblock'>
<h1 id='panics' class='section-header'><a href='#panics'>Panics</a></h1>
<p>All functions will panic upon any OpenCL error.</p>
</div><div class='impl-items'><h4 id='method.new' class='method'><code>fn <a href='#method.new' class='fnname'>new</a>&lt;E: <a class='trait' href='../../ocl/trait.BufferDims.html' title='ocl::BufferDims'>BufferDims</a>&gt;(dims: E, queue: &amp;<a class='struct' href='../../ocl/struct.Queue.html' title='ocl::Queue'>Queue</a>) -&gt; <a class='struct' href='../../ocl/buffer/struct.Buffer.html' title='ocl::buffer::Buffer'>Buffer</a>&lt;T&gt;</code></h4>
<div class='docblock'><p>Creates a new read/write Buffer with dimensions: <code>dims</code> which will use the
command queue: <code>queue</code> (and its associated device and context) for all operations.</p>

<p>The device side buffer will be allocated a size based on the maximum workgroup 
size of the device. This helps ensure that kernels do not attempt to read 
from or write to memory beyond the length of the buffer (see crate level 
documentation for more details about how dimensions are used). The buffer
will be initialized with a sensible default value (probably <code>0</code>).</p>

<h1 id='panics-1' class='section-header'><a href='#panics-1'>Panics</a></h1>
<p>The returned Buffer contains no host side vector. Functions associated with
one such as <code>.flush_vec()</code>, <code>fill_vec()</code>, etc. will panic.</p>
</div><h4 id='method.with_vec' class='method'><code>fn <a href='#method.with_vec' class='fnname'>with_vec</a>&lt;E: <a class='trait' href='../../ocl/trait.BufferDims.html' title='ocl::BufferDims'>BufferDims</a>&gt;(dims: E, queue: &amp;<a class='struct' href='../../ocl/struct.Queue.html' title='ocl::Queue'>Queue</a>) -&gt; <a class='struct' href='../../ocl/buffer/struct.Buffer.html' title='ocl::buffer::Buffer'>Buffer</a>&lt;T&gt;</code></h4>
<div class='docblock'><p>Creates a new read/write Buffer with a host side working copy of data.
Host vector and device buffer are initialized with a sensible default value.</p>
</div><h4 id='method.with_vec_initialized_to' class='method'><code>fn <a href='#method.with_vec_initialized_to' class='fnname'>with_vec_initialized_to</a>&lt;E: <a class='trait' href='../../ocl/trait.BufferDims.html' title='ocl::BufferDims'>BufferDims</a>&gt;(init_val: T, dims: E, queue: &amp;<a class='struct' href='../../ocl/struct.Queue.html' title='ocl::Queue'>Queue</a>) -&gt; <a class='struct' href='../../ocl/buffer/struct.Buffer.html' title='ocl::buffer::Buffer'>Buffer</a>&lt;T&gt;</code></h4>
<div class='docblock'><p>[UNSTABLE][MARKED FOR POSSIBLE REMOVAL]: Convenience function.
Creates a new read/write Buffer with a host side working copy of data.
Host vector and device buffer are initialized with the value, <code>init_val</code>.</p>
</div><h4 id='method.with_vec_shuffled' class='method'><code>fn <a href='#method.with_vec_shuffled' class='fnname'>with_vec_shuffled</a>&lt;E: <a class='trait' href='../../ocl/trait.BufferDims.html' title='ocl::BufferDims'>BufferDims</a>&gt;(min_val: T, max_val: T, dims: E, queue: &amp;<a class='struct' href='../../ocl/struct.Queue.html' title='ocl::Queue'>Queue</a>) -&gt; <a class='struct' href='../../ocl/buffer/struct.Buffer.html' title='ocl::buffer::Buffer'>Buffer</a>&lt;T&gt;</code></h4>
<div class='docblock'><p>[UNSTABLE][MARKED FOR POSSIBLE REMOVAL]: Convenience function.
Creates a new read/write Buffer with a vector initialized with a series of 
integers ranging from <code>min_val</code> to <code>max_val</code> (closed) which are shuffled 
randomly.</p>

<p>Note: Even if the Buffer type is a floating point type, the values returned
will still be integral values (e.g.: 1.0, 2.0, 3.0, etc.).</p>

<h1 id='security' class='section-header'><a href='#security'>Security</a></h1>
<p>Resulting values are not cryptographically secure.</p>
</div><h4 id='method.with_vec_scrambled' class='method'><code>fn <a href='#method.with_vec_scrambled' class='fnname'>with_vec_scrambled</a>&lt;E: <a class='trait' href='../../ocl/trait.BufferDims.html' title='ocl::BufferDims'>BufferDims</a>&gt;(min_val: T, max_val: T, dims: E, queue: &amp;<a class='struct' href='../../ocl/struct.Queue.html' title='ocl::Queue'>Queue</a>) -&gt; <a class='struct' href='../../ocl/buffer/struct.Buffer.html' title='ocl::buffer::Buffer'>Buffer</a>&lt;T&gt;</code></h4>
<div class='docblock'><p>[UNSTABLE][MARKED FOR POSSIBLE REMOVAL]: Convenience function.
Creates a new read/write Buffer with a vector initialized with random values 
within the (half-open) range <code>min_val..max_val</code>.</p>

<h1 id='security-1' class='section-header'><a href='#security-1'>Security</a></h1>
<p>Resulting values are not cryptographically secure.</p>
</div><h4 id='method.new_raw_unchecked' class='method'><code>unsafe fn <a href='#method.new_raw_unchecked' class='fnname'>new_raw_unchecked</a>(flags: <a class='type' href='../../ocl/cl_h/type.cl_bitfield.html' title='ocl::cl_h::cl_bitfield'>cl_bitfield</a>, len: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, host_ptr: <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>&amp;[</a>T<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>]</a>&gt;, queue: &amp;<a class='struct' href='../../ocl/struct.Queue.html' title='ocl::Queue'>Queue</a>) -&gt; <a class='struct' href='../../ocl/buffer/struct.Buffer.html' title='ocl::buffer::Buffer'>Buffer</a>&lt;T&gt;</code></h4>
<div class='docblock'><p>[UNSTABLE]
Creates a new Buffer with caller-managed buffer length, type, flags, and 
initialization.</p>

<h1 id='examples' class='section-header'><a href='#examples'>Examples</a></h1>
<p>See <code>examples/buffer_unchecked.rs</code>.</p>

<h1 id='parameter-reference-documentation' class='section-header'><a href='#parameter-reference-documentation'>Parameter Reference Documentation</a></h1>
<p>Refer to the following page for information about how to configure flags and
other options for the buffer.
<a href="https://www.khronos.org/registry/cl/sdk/1.2/docs/man/xhtml/clCreateBuffer.html">https://www.khronos.org/registry/cl/sdk/1.2/docs/man/xhtml/clCreateBuffer.html</a></p>

<h1 id='safety' class='section-header'><a href='#safety'>Safety</a></h1>
<p>No creation time checks are made to help prevent device buffer overruns, 
etc. Caller should be sure to initialize the device side memory with a 
write. Any host side memory pointed to by <code>host_ptr</code> is at even greater
risk if used with <code>CL_MEM_USE_HOST_PTR</code> (see below).</p>

<p>[IMPORTANT] Practically every read and write to an Buffer created in this way is
potentially unsafe. Because <code>.read()</code> and <code>.write()</code> do not require an 
unsafe block, their implied promises about safety may be broken at any time.</p>

<p><em>You need to know what you&#39;re doing and be extra careful using an Buffer created 
with this function because it badly breaks Rust&#39;s usual safety promises even
outside of an unsafe block.</em></p>

<p><strong>This is horribly un-idiomatic Rust. You have been warned.</strong></p>

<p>NOTE: The above important warnings probably only apply to buffers created with 
the <code>CL_MEM_USE_HOST_PTR</code> flag because the memory is considered &#39;pinned&#39; but 
there may also be implementation specific issues which haven&#39;t been considered 
or are unknown.</p>

<h1 id='stability' class='section-header'><a href='#stability'>Stability</a></h1>
<p>The functionality of an Buffer used in this way may eventually be moved into a
separate type, potentially called just <code>Buffer</code> which can manage its inherent
unsafety without breaking promises. [update: probably not]</p>
</div><h4 id='method.write' class='method'><code>fn <a href='#method.write' class='fnname'>write</a>(&amp;mut self, data: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>&amp;[</a>T<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>]</a>, offset: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, wait_list: <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;&amp;<a class='struct' href='../../ocl/struct.EventList.html' title='ocl::EventList'>EventList</a>&gt;, dest_list: <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;&amp;mut <a class='struct' href='../../ocl/struct.EventList.html' title='ocl::EventList'>EventList</a>&gt;)</code></h4>
<div class='docblock'><p>After waiting on events in <code>wait_list</code> to finish, writes the contents of
&#39;data&#39; to the remote device data buffer with a remote offset of <code>offset</code>
and adds a new event to <code>dest_list</code></p>

<p>If the <code>dest_list</code> event list is <code>None</code>, the write will be blocking.</p>
</div><h4 id='method.flush_vec' class='method'><code>fn <a href='#method.flush_vec' class='fnname'>flush_vec</a>(&amp;mut self, wait_list: <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;&amp;<a class='struct' href='../../ocl/struct.EventList.html' title='ocl::EventList'>EventList</a>&gt;, dest_list: <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;&amp;mut <a class='struct' href='../../ocl/struct.EventList.html' title='ocl::EventList'>EventList</a>&gt;)</code></h4>
<div class='docblock'><p>After waiting on events in <code>wait_list</code> to finish, writes the contents of
&#39;self.vec&#39; to the remote device data buffer and adds a new event to <code>dest_list</code></p>

<h1 id='panics-2' class='section-header'><a href='#panics-2'>Panics</a></h1>
<p>Panics if this Buffer contains no vector.</p>
</div><h4 id='method.flush_vec_wait' class='method'><code>fn <a href='#method.flush_vec_wait' class='fnname'>flush_vec_wait</a>(&amp;mut self)</code></h4>
<div class='docblock'><p>Writes the contents of <code>self.vec</code> to the remote device data buffer and
blocks until completed. </p>

<p>Equivalent to <code>.flush_vec(None, None)</code>.</p>

<h1 id='panics-3' class='section-header'><a href='#panics-3'>Panics</a></h1>
<p>Panics if this Buffer contains no vector.</p>
</div><h4 id='method.read' class='method'><code>fn <a href='#method.read' class='fnname'>read</a>(&amp;self, data: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>&amp;mut [</a>T<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>]</a>, offset: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, wait_list: <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;&amp;<a class='struct' href='../../ocl/struct.EventList.html' title='ocl::EventList'>EventList</a>&gt;, dest_list: <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;&amp;mut <a class='struct' href='../../ocl/struct.EventList.html' title='ocl::EventList'>EventList</a>&gt;)</code></h4>
<div class='docblock'><p>After waiting on events in <code>wait_list</code> to finish, reads the remote device
data buffer with a remote offset of <code>offset</code> into <code>data</code> and adds a new 
event to <code>dest_list</code>.</p>

<p>If the <code>dest_list</code> event list is <code>None</code>, the read will be blocking.</p>
</div><h4 id='method.fill_vec' class='method'><code>fn <a href='#method.fill_vec' class='fnname'>fill_vec</a>(&amp;mut self, wait_list: <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;&amp;<a class='struct' href='../../ocl/struct.EventList.html' title='ocl::EventList'>EventList</a>&gt;, dest_list: <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;&amp;mut <a class='struct' href='../../ocl/struct.EventList.html' title='ocl::EventList'>EventList</a>&gt;)</code></h4>
<div class='docblock'><p>After waiting on events in <code>wait_list</code> to finish, reads the remote device
data buffer into &#39;self.vec&#39; and adds a new event to <code>dest_list</code>.</p>

<h1 id='panics-4' class='section-header'><a href='#panics-4'>Panics</a></h1>
<p>Panics if this Buffer contains no vector.</p>
</div><h4 id='method.fill_vec_wait' class='method'><code>fn <a href='#method.fill_vec_wait' class='fnname'>fill_vec_wait</a>(&amp;mut self)</code></h4>
<div class='docblock'><p>Reads the remote device data buffer into <code>self.vec</code> and blocks until completed.</p>

<p>Equivalent to <code>.fill_vec(None, None)</code>.</p>

<h1 id='panics-5' class='section-header'><a href='#panics-5'>Panics</a></h1>
<p>Panics if this Buffer contains no vector.</p>
</div><h4 id='method.wait' class='method'><code>fn <a href='#method.wait' class='fnname'>wait</a>(&amp;self)</code></h4>
<div class='docblock'><p>Blocks until the underlying command queue has completed all commands.</p>
</div><h4 id='method.set_all_to' class='method'><code>fn <a href='#method.set_all_to' class='fnname'>set_all_to</a>(&amp;mut self, val: T)</code></h4>
<div class='docblock'><p>[MARKED FOR POSSIBLE REMOVAL]: Convenience function.</p>

<h1 id='panics-6' class='section-header'><a href='#panics-6'>Panics</a></h1>
<p>Panics if this Buffer contains no vector.
[FIXME]: GET WORKING EVEN WITH NO CONTAINED VECTOR</p>
</div><h4 id='method.set_range_to' class='method'><code>fn <a href='#method.set_range_to' class='fnname'>set_range_to</a>(&amp;mut self, val: T, range: <a class='struct' href='https://doc.rust-lang.org/nightly/core/ops/struct.Range.html' title='core::ops::Range'>Range</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>&gt;)</code></h4>
<div class='docblock'><p>[MARKED FOR POSSIBLE REMOVAL]: Convenience function.</p>

<h1 id='panics-7' class='section-header'><a href='#panics-7'>Panics</a></h1>
<p>Panics if this Buffer contains no vector.
[FIXME]: GET WORKING EVEN WITH NO CONTAINED VECTOR</p>
</div><h4 id='method.len' class='method'><code>fn <a href='#method.len' class='fnname'>len</a>(&amp;self) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a></code></h4>
<div class='docblock'><p>Returns the length of the Buffer.</p>

<p>This is the length of both the device side buffer and the host side vector,
if any. This may not agree with desired dataset size because it will have been
rounded up to the nearest maximum workgroup size of the device on which it was
created.</p>
</div><h4 id='method.print_simple' class='method'><code>fn <a href='#method.print_simple' class='fnname'>print_simple</a>(&amp;mut self)</code></h4>
<div class='docblock'><p>[MARKED FOR POSSIBLE REMOVAL]: Convenience function. (move to tests module?)</p>

<h1 id='panics-8' class='section-header'><a href='#panics-8'>Panics</a></h1>
<p>Panics if this Buffer contains no vector.
[FIXME]: GET WORKING EVEN WITH NO CONTAINED VECTOR</p>
</div><h4 id='method.print_val_range' class='method'><code>fn <a href='#method.print_val_range' class='fnname'>print_val_range</a>(&amp;mut self, every: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, val_range: <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>(</a>T, T<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>)</a>&gt;)</code></h4>
<div class='docblock'><p>[MARKED FOR POSSIBLE REMOVAL]: Convenience function. (move to tests module?)</p>

<h1 id='panics-9' class='section-header'><a href='#panics-9'>Panics</a></h1>
<p>Panics if this Buffer contains no vector.
[FIXME]: GET WORKING EVEN WITH NO CONTAINED VECTOR</p>
</div><h4 id='method.print' class='method'><code>fn <a href='#method.print' class='fnname'>print</a>(&amp;mut self, every: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>, val_range: <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>(</a>T, T<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>)</a>&gt;, idx_range_opt: <a class='enum' href='https://doc.rust-lang.org/nightly/core/option/enum.Option.html' title='core::option::Option'>Option</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/core/ops/struct.Range.html' title='core::ops::Range'>Range</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>&gt;&gt;, zeros: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>)</code></h4>
<div class='docblock'><p>[MARKED FOR POSSIBLE REMOVAL]: Convenience function. (move to tests module?)
[FIXME]: CREATE A VECTOR FOR PRINTING IF NONE EXISTS</p>

<h1 id='panics-10' class='section-header'><a href='#panics-10'>Panics</a></h1>
<p>Panics if this Buffer contains no vector.
[FIXME]: GET WORKING EVEN WITH NO CONTAINED VECTOR</p>
</div><h4 id='method.resize' class='method'><code>unsafe fn <a href='#method.resize' class='fnname'>resize</a>(&amp;mut self, new_dims: &amp;<a class='trait' href='../../ocl/trait.BufferDims.html' title='ocl::BufferDims'>BufferDims</a>)</code></h4>
<div class='docblock'><p>Resizes Buffer. Recreates device side buffer and dangles any references
kernels may have had to the old buffer.</p>

<h1 id='safety-1' class='section-header'><a href='#safety-1'>Safety</a></h1>
<p>[IMPORTANT]: You must manually reassign any kernel arguments which may have 
had a reference to the (device side) buffer associated with this Buffer.</p>
</div><h4 id='method.release' class='method'><code>fn <a href='#method.release' class='fnname'>release</a>(&amp;mut self)</code></h4>
<div class='docblock'><p>Decrements the reference count associated with the previous buffer object,
<code>self.buffer_obj</code>.</p>
</div><h4 id='method.vec' class='method'><code>fn <a href='#method.vec' class='fnname'>vec</a>(&amp;self) -&gt; <a class='type' href='../../ocl/type.OclResult.html' title='ocl::OclResult'>OclResult</a>&lt;&amp;<a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;T&gt;&gt;</code></h4>
<div class='docblock'><p>Returns a reference to the local vector associated with this buffer.</p>

<h1 id='failures' class='section-header'><a href='#failures'>Failures</a></h1>
<p>Returns an error if this buffer contains no vector.</p>
</div><h4 id='method.vec_mut' class='method'><code>unsafe fn <a href='#method.vec_mut' class='fnname'>vec_mut</a>(&amp;mut self) -&gt; <a class='type' href='../../ocl/type.OclResult.html' title='ocl::OclResult'>OclResult</a>&lt;&amp;mut <a class='struct' href='https://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;T&gt;&gt;</code></h4>
<div class='docblock'><p>Returns a mutable reference to the local vector associated with this buffer.</p>

<h1 id='failures-1' class='section-header'><a href='#failures-1'>Failures</a></h1>
<p>Returns an error if this buffer contains no vector.</p>

<h1 id='safety-2' class='section-header'><a href='#safety-2'>Safety</a></h1>
<p>Could cause data collisions, etc. Probably not unsafe strictly speaking 
(is it?) but marked as such to alert the caller to any potential 
synchronization issues.</p>
</div><h4 id='method.get_unchecked' class='method'><code>unsafe fn <a href='#method.get_unchecked' class='fnname'>get_unchecked</a>(&amp;self, idx: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>) -&gt; &amp;T</code></h4>
<div class='docblock'><p>Returns an immutable reference to the value located at index <code>idx</code>, bypassing
bounds and enum variant checks.</p>

<h1 id='safety-3' class='section-header'><a href='#safety-3'>Safety</a></h1>
<p>Assumes <code>self.vec</code> is a <code>VecOption::Vec(_)</code> and that the index <code>idx</code> is within
the vector bounds.</p>
</div><h4 id='method.get_unchecked_mut' class='method'><code>unsafe fn <a href='#method.get_unchecked_mut' class='fnname'>get_unchecked_mut</a>(&amp;mut self, idx: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>) -&gt; &amp;mut T</code></h4>
<div class='docblock'><p>Returns a mutable reference to the value located at index <code>idx</code>, bypassing
bounds and enum variant checks.</p>

<h1 id='safety-4' class='section-header'><a href='#safety-4'>Safety</a></h1>
<p>Assumes <code>self.vec</code> is a <code>VecOption::Vec(_)</code> and that the index <code>idx</code> is within
bounds. Might eat all the laundry.</p>
</div><h4 id='method.buffer_obj' class='method'><code>fn <a href='#method.buffer_obj' class='fnname'>buffer_obj</a>(&amp;self) -&gt; <a class='type' href='../../ocl/cl_h/type.cl_mem.html' title='ocl::cl_h::cl_mem'>cl_mem</a></code></h4>
<div class='docblock'><p>Returns a copy of the device buffer object reference.</p>
</div><h4 id='method.queue' class='method'><code>fn <a href='#method.queue' class='fnname'>queue</a>(&amp;self) -&gt; &amp;<a class='struct' href='../../ocl/struct.Queue.html' title='ocl::Queue'>Queue</a></code></h4>
<div class='docblock'><p>Returns a reference to the program/command queue associated with this buffer.</p>
</div><h4 id='method.set_queue' class='method'><code>unsafe fn <a href='#method.set_queue' class='fnname'>set_queue</a>(&amp;mut self, queue: <a class='struct' href='../../ocl/struct.Queue.html' title='ocl::Queue'>Queue</a>)</code></h4>
<div class='docblock'><p>Changes the queue used by this Buffer for reads and writes, etc.</p>

<h1 id='safety-5' class='section-header'><a href='#safety-5'>Safety</a></h1>
<p>Not all implications of changing the queue, particularly if the new queue
is associated with a new device which has different workgroup size dimensions,
have been considered or are dealt with. For now, considering these cases is
left to the caller. It&#39;s probably a good idea to at least call <code>.resize()</code>
after calling this function.</p>
</div><h4 id='method.iter' class='method'><code>fn <a href='#method.iter' class='fnname'>iter</a>&lt;'a&gt;(&amp;'a self) -&gt; <a class='struct' href='https://doc.rust-lang.org/nightly/core/slice/struct.Iter.html' title='core::slice::Iter'>Iter</a>&lt;'a, T&gt;</code></h4>
<div class='docblock'><p>Returns an iterator to a contained vector.</p>

<h1 id='panics-11' class='section-header'><a href='#panics-11'>Panics</a></h1>
<p>Panics if this Buffer contains no vector.</p>
</div><h4 id='method.iter_mut' class='method'><code>fn <a href='#method.iter_mut' class='fnname'>iter_mut</a>&lt;'a&gt;(&amp;'a mut self) -&gt; <a class='struct' href='https://doc.rust-lang.org/nightly/core/slice/struct.IterMut.html' title='core::slice::IterMut'>IterMut</a>&lt;'a, T&gt;</code></h4>
<div class='docblock'><p>Returns a mutable iterator to a contained vector.</p>

<h1 id='panics-12' class='section-header'><a href='#panics-12'>Panics</a></h1>
<p>Panics if this Buffer contains no vector.</p>
</div></div><h2 id='implementations'>Trait Implementations</h2><h3 class='impl'><code>impl&lt;T: <a class='trait' href='../../ocl/trait.OclNum.html' title='ocl::OclNum'>OclNum</a>&gt; <a class='trait' href='../../ocl/buffer/tests/trait.BufferTest.html' title='ocl::buffer::tests::BufferTest'>BufferTest</a>&lt;T&gt; for <a class='struct' href='../../ocl/buffer/struct.Buffer.html' title='ocl::buffer::Buffer'>Buffer</a>&lt;T&gt;</code></h3><div class='impl-items'><h4 id='method.read_idx_direct' class='method'><code>fn <a href='../../ocl/buffer/tests/trait.BufferTest.html#method.read_idx_direct' class='fnname'>read_idx_direct</a>(&amp;self, idx: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>) -&gt; T</code></h4>
</div><h3 class='impl'><code>impl&lt;T&gt; <a class='trait' href='https://doc.rust-lang.org/nightly/core/ops/trait.Index.html' title='core::ops::Index'>Index</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>&gt; for <a class='struct' href='../../ocl/buffer/struct.Buffer.html' title='ocl::buffer::Buffer'>Buffer</a>&lt;T&gt;</code></h3><div class='impl-items'><h4 id='assoc_type.Output' class='type'><code>type Output = T</code></h4>
<h4 id='method.index' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/ops/trait.Index.html#method.index' class='fnname'>index</a>&lt;'a&gt;(&amp;'a self, index: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>) -&gt; &amp;'a T</code></h4>
</div><h3 class='impl'><code>impl&lt;T&gt; <a class='trait' href='https://doc.rust-lang.org/nightly/core/ops/trait.IndexMut.html' title='core::ops::IndexMut'>IndexMut</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>&gt; for <a class='struct' href='../../ocl/buffer/struct.Buffer.html' title='ocl::buffer::Buffer'>Buffer</a>&lt;T&gt;</code></h3><div class='impl-items'><h4 id='method.index_mut' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/ops/trait.IndexMut.html#method.index_mut' class='fnname'>index_mut</a>&lt;'a&gt;(&amp;'a mut self, index: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>) -&gt; &amp;'a mut T</code></h4>
</div><h3 class='impl'><code>impl&lt;'b, T&gt; <a class='trait' href='https://doc.rust-lang.org/nightly/core/ops/trait.Index.html' title='core::ops::Index'>Index</a>&lt;&amp;'b <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>&gt; for <a class='struct' href='../../ocl/buffer/struct.Buffer.html' title='ocl::buffer::Buffer'>Buffer</a>&lt;T&gt;</code></h3><div class='impl-items'><h4 id='assoc_type.Output-1' class='type'><code>type Output = T</code></h4>
<h4 id='method.index-1' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/ops/trait.Index.html#method.index' class='fnname'>index</a>&lt;'a&gt;(&amp;'a self, index: &amp;'b <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>) -&gt; &amp;'a T</code></h4>
</div><h3 class='impl'><code>impl&lt;'b, T&gt; <a class='trait' href='https://doc.rust-lang.org/nightly/core/ops/trait.IndexMut.html' title='core::ops::IndexMut'>IndexMut</a>&lt;&amp;'b <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>&gt; for <a class='struct' href='../../ocl/buffer/struct.Buffer.html' title='ocl::buffer::Buffer'>Buffer</a>&lt;T&gt;</code></h3><div class='impl-items'><h4 id='method.index_mut-1' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/ops/trait.IndexMut.html#method.index_mut' class='fnname'>index_mut</a>&lt;'a&gt;(&amp;'a mut self, index: &amp;'b <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>) -&gt; &amp;'a mut T</code></h4>
</div><h3 class='impl'><code>impl&lt;T&gt; <a class='trait' href='https://doc.rust-lang.org/nightly/core/ops/trait.Index.html' title='core::ops::Index'>Index</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/core/ops/struct.Range.html' title='core::ops::Range'>Range</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>&gt;&gt; for <a class='struct' href='../../ocl/buffer/struct.Buffer.html' title='ocl::buffer::Buffer'>Buffer</a>&lt;T&gt;</code></h3><div class='impl-items'><h4 id='assoc_type.Output-2' class='type'><code>type Output = <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>[</a>T<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>]</a></code></h4>
<h4 id='method.index-2' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/ops/trait.Index.html#method.index' class='fnname'>index</a>&lt;'a&gt;(&amp;'a self, range: <a class='struct' href='https://doc.rust-lang.org/nightly/core/ops/struct.Range.html' title='core::ops::Range'>Range</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>&gt;) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>&amp;'a [</a>T<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>]</a></code></h4>
</div><h3 class='impl'><code>impl&lt;T&gt; <a class='trait' href='https://doc.rust-lang.org/nightly/core/ops/trait.IndexMut.html' title='core::ops::IndexMut'>IndexMut</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/core/ops/struct.Range.html' title='core::ops::Range'>Range</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>&gt;&gt; for <a class='struct' href='../../ocl/buffer/struct.Buffer.html' title='ocl::buffer::Buffer'>Buffer</a>&lt;T&gt;</code></h3><div class='impl-items'><h4 id='method.index_mut-2' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/ops/trait.IndexMut.html#method.index_mut' class='fnname'>index_mut</a>&lt;'a&gt;(&amp;'a mut self, range: <a class='struct' href='https://doc.rust-lang.org/nightly/core/ops/struct.Range.html' title='core::ops::Range'>Range</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.usize.html'>usize</a>&gt;) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>&amp;'a mut [</a>T<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>]</a></code></h4>
</div><h3 class='impl'><code>impl&lt;T&gt; <a class='trait' href='https://doc.rust-lang.org/nightly/core/ops/trait.Index.html' title='core::ops::Index'>Index</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/core/ops/struct.RangeFull.html' title='core::ops::RangeFull'>RangeFull</a>&gt; for <a class='struct' href='../../ocl/buffer/struct.Buffer.html' title='ocl::buffer::Buffer'>Buffer</a>&lt;T&gt;</code></h3><div class='impl-items'><h4 id='assoc_type.Output-3' class='type'><code>type Output = <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>[</a>T<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>]</a></code></h4>
<h4 id='method.index-3' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/ops/trait.Index.html#method.index' class='fnname'>index</a>&lt;'a&gt;(&amp;'a self, range: <a class='struct' href='https://doc.rust-lang.org/nightly/core/ops/struct.RangeFull.html' title='core::ops::RangeFull'>RangeFull</a>) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>&amp;'a [</a>T<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>]</a></code></h4>
</div><h3 class='impl'><code>impl&lt;T&gt; <a class='trait' href='https://doc.rust-lang.org/nightly/core/ops/trait.IndexMut.html' title='core::ops::IndexMut'>IndexMut</a>&lt;<a class='struct' href='https://doc.rust-lang.org/nightly/core/ops/struct.RangeFull.html' title='core::ops::RangeFull'>RangeFull</a>&gt; for <a class='struct' href='../../ocl/buffer/struct.Buffer.html' title='ocl::buffer::Buffer'>Buffer</a>&lt;T&gt;</code></h3><div class='impl-items'><h4 id='method.index_mut-3' class='method'><code>fn <a href='https://doc.rust-lang.org/nightly/core/ops/trait.IndexMut.html#method.index_mut' class='fnname'>index_mut</a>&lt;'a&gt;(&amp;'a mut self, range: <a class='struct' href='https://doc.rust-lang.org/nightly/core/ops/struct.RangeFull.html' title='core::ops::RangeFull'>RangeFull</a>) -&gt; <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>&amp;'a mut [</a>T<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.slice.html'>]</a></code></h4>
</div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../";
        window.currentCrate = "ocl";
        window.playgroundUrl = "";
    </script>
    <script src="../../jquery.js"></script>
    <script src="../../main.js"></script>
    
    <script defer src="../../search-index.js"></script>
</body>
</html>